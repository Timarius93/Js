<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <h1>Compila il form con i tuoi dati</h1>

    <form action="">
        <input type="text" id="nome">
        <input type="text" id="cognome">
        <input type="text" id="annoNascita">
        <input type="button" value="registrati" onclick="registraUser()">
        <input type="button" value="registrati 2" onclick="registraUser2()">
    </form>

    <div id="info"></div>
    <div id="info2"></div>

    <script type="text/javascript">

        function registraUser(){
            var user = new Object();
            user.nome= document.getElementById('nome').value;
            user.cognome= document.getElementById('cognome').value;
            this.annoNascita= document.getElementById('annoNascita').value;
            //this richiama l'oggetto più vicino
            //console.log(user);
            for(const chiave in user){
            if(typeof user[chiave] != 'function'){
            info.innerHTML += chiave + ': ' + user[chiave] + '<br>';
            document.getElementById("nome").value = "";
            document.getElementById("cognome").value = "";
            document.getElementById("annoNascita").value = "";
    }
}
        }
        /////////////////////////////////////////////////////

        function User2(nome,cognome,annoNascita){
            this.nome=nome;
            this.cognome=cognome;
            this.annoNascita=annoNascita;

            this.info=function(){
                return 'ciao '+ this.nome+' '+ this.cognome;
            }
        }

        function registraUser2(){
            //avrà il compito di riempire l'oggetto user2
            var nome=document.getElementById('nome').value;
            var cognome=document.getElementById('cognome').value;
            var annoNascita=document.getElementById('annoNascita').value;

            var utente = new User2(nome,cognome,annoNascita);

            document.getElementById('info').innerHTML = utente.info();

            //console.log(utente);
            for(const chiave in utente){
            if(typeof utente[chiave] != 'function'){
            info2.innerHTML += chiave + ': ' + utente[chiave] + '<br>';
    }
}
            document.getElementById("nome").value = "";
            document.getElementById("cognome").value = "";
            document.getElementById("annoNascita").value = "";
        }

    </script>
</body>
</html>